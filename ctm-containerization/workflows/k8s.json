{
  "replace-with-usercode-k8s" : {
    "Type" : "Folder",
    "ControlmServer" : "IN01",
    "SubApplication" : "replace-with-usercode-k8s",
    "Application" : "replace-with-usercode-k8s",
    "When" : {
      "RuleBasedCalendars" : {
        "Included" : [ "EVERYDAY" ],
        "EVERYDAY" : {
          "Type" : "Calendar:RuleBased",
          "When" : {
            "DaysRelation" : "OR",
            "WeekDays" : [ "NONE" ],
            "MonthDays" : [ "ALL" ]
          }
        }
      }
    },
    "replace-with-usercode-k8s-job" : {
      "Type" : "Job:Kubernetes",
      "Job Spec Yaml" : "apiVersion: batch/v1\nkind: Job\nmetadata:\n  # generateName ensures a unique Job name on every execution\n  # and avoids conflicts when the job is rerun with Cleanup=Keep\n  generateName: unstable-\nspec:\n  # Number of retries before the Job is marked as failed\n  backoffLimit: 3\n  template:\n    spec:\n      # Do not restart the container inside the same Pod\n      restartPolicy: Never\n      containers:\n      - name: worker\n        image: busybox:1.36\n        command:\n        - /bin/sh\n        - -c\n        - |\n          echo \"Starting job...\"\n          sleep 2\n\n          # Job behavior is controlled via Control-M job parameters:\n          # mode=fail    -> job exits with an error\n          # mode=success -> job completes successfully\n          if [ \"{{job_yaml_file_params:mode}}\" = \"fail\" ]; then\n            echo \"Failing on purpose\"\n            exit 1\n          fi\n\n          echo \"Success\"\n          exit 0\n",
      "ConnectionProfile" : "replace-with-usercode-uc_CP_KUBERNETES",
      "Job Spec Type" : "Local file",
      "Job Spec Parameters" : "{\"jobname\":\"unstable-%%ORDERID-%%RUNCOUNT\",\"mode\":\"fail\"}",
      "Get Pod Logs" : "Get Logs",
      "OS Exit Code" : "No print",
      "Job Cleanup" : "Keep",
      "Job Status Polling Interval" : "10",
      "SubApplication" : "replace-with-usercode-k8s",
      "Host" : "replace-with-usercode-eks-hg",
      "RunAs" : "replace-with-usercode-uc_CP_KUBERNETES",
      "Application" : "replace-with-usercode-k8s",
      "WsRestBody" : {
        "RequestDefinition" : "text"
      },
      "When" : {
        "WeekDays" : [ "NONE" ],
        "MonthDays" : [ "ALL" ],
        "DaysRelation" : "OR"
      }
    }
  }
}
